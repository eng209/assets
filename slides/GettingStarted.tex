% !TEX TS-program = xelatex
% !TEX encoding = UTF-8 Unicode
% -*- coding: UTF-8; -*-
% vim: set fenc=utf-8

\documentclass[10pt]{article}
%\usepackage{fontspec,xltxtra,xunicode}
%\defaultfontfeatures{Mapping=tex-text}


\usepackage{microtype}
\usepackage{newlfont}
\usepackage{graphicx}
\usepackage{a4wide}
\usepackage{geometry}
\geometry{a4paper, top=1.5cm, left=2cm, right=2.0cm, bottom=1.5cm}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{enumerate}
\usepackage{mathrsfs}
\usepackage{thumbpdf}
\usepackage{charter}
\usepackage[xetex,raiselinks=false,colorlinks=true,urlcolor=blue,linkcolor=black]{hyperref}
\renewcommand\UrlFont{\sffamily}
%\usepackage[none]{hyphenat}
\usepackage{ulem}

%\setmainfont[Mapping=tex-text]{Palatino}
%\setsansfont[Mapping=tex-text]{Helvetica Neue}
%\newfontfamily{\monofontstraightquotes}[Mapping=tex-ansi, Scale=0.8]{Bitstream Vera Sans Mono}
%\setmonofont[Mapping=tex-text, Scale=0.9]{Bitstream Vera Sans Mono}
\newcommand{\squot}{{\monofontstraightquotes "}}
\newcommand{\sapos}{{\monofontstraightquotes '}}

\usepackage{listings}
\usepackage{color}
\usepackage{framed}
\usepackage{titlesec}
\usepackage{textcomp}

\usepackage{etoolbox}
\usepackage{pythonhighlight}

\begin{document}
\setlength{\parskip}{5pt plus 1pt minus 1pt}
\setlength{\parindent}{0pt}
\setlength{\marginparsep}{0.5cm}
\def\thesection{Exercice \arabic{section}.}

\DeclareRobustCommand{\cmdkey}{\raisebox{-.06em}{\includegraphics[height=.75em]{command.pdf}}}

%\newcommand\•{$\cdot$}
\newcommand\code[1]{\texttt{\textbf{\small #1}}}
\newcommand\ui[1]{\textsf{#1}}
\newcommand{\marginnote}[1]{\marginpar{\flushleft{{\scriptsize ~\\} \textsf{#1}}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

{
	\sffamily
	{\Large \bfseries ENG-209 --- Getting Started}
	{\hfill 8 Septembre 2025}
}


\vspace{0.1cm}
\hrule
\vspace{0.3cm}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\section{Remarques préliminaires et configuration initiale}

\newcommand{\bigsubsection}[1]{
	\vspace{0.7cm}
	\textbf{\textit{\large #1}}
}
Ici, vous allez configurer votre machine de travail pour faire les séries d'exercices du semestre.

\subsubsection*{Connexion}

Connectez-vous sur l'infrastructure des postes de travail virtuels:
\begin{itemize}
\itemsep0em
\item avec les machines en salle INF3: identifiez-vous directement avec votre identifiant GASPAR;
\item sur votre propre machine: en téléchargeant d'abord VMWare Horizon Client depuis \url{https://vdi.epfl.ch}, puis en procédant comme pour la salle INF3;
\end{itemize}

… puis choisissez la machine virtuelle \code{IC-CO-IN-INJ-2024-Fall} (et pas une autre)

Notez bien qu'à chaque logout, vos données sur l’ordinateur sont \textbf{effacées}. Seulement le contenu de votre dossier \code{myfiles}, visible sur votre bureau après l'ouverture de la machine virtuelle, est sauvegardé et réapparaît au prochain login.

Faites donc attention à toujours travailler dans votre dossier réseau!

Vous pouvez aussi accéder à \code{myfiles} en le montant comme dossier réseau sur votre propre machine. Si vous n'êtes pas sur le réseau de l'EPFL, vous devrez vous connecter au VPN d'abord.

Plus d'info: \url{http://mynas.epfl.ch}; \url{http://studinfo.epfl.ch/core/index.asp?article=18}; \url{https://vpn.epfl.ch}.

\subsubsection*{Configuration}

Voici la procédure pour configurer le tout sur un poste de travail virtuel la première semaine.
\begin{enumerate}
\item Loggez-vous sur une machine virtuelle (via une des machines de la salle d'exercice ou via votre propre machine par l'intermédiaire de VMware Horizon Client comme indiqué sur \url{https://vdi.epfl.ch}).
\item Ouvrez l'application \ui{Terminal} (par exemple via le lanceur en bas de la barre latérale), puis tapez exactement ceci:\\
\begin{lstlisting}[language=Bash]
curl 'https://raw.githubusercontent.com/eng209/eng209_2025/refs/heads/main/setup.sh' | bash -s
\end{lstlisting}
\item Observez la machine travailler pour vous. Cela prend un certain temps. À la fin de l'opération, s'il n'y a pas eu d'erreur, fermez la fenêtre du terminal puis lancez \ui{Visual Studio Code} (aussi depuis le lanceur en bas à gauche).
\item Choisissez ensuite \ui{File} $\rightarrow$ \ui{Open Folder}, puis naviguez vers dossier workspace, qui ressemble à ceci:\\
\code{~/Desktop/myfiles/eng209\_2025/}.\\
Attention à bien ouvrir ce dossier et pas myfiles directement ou un autre.
\end{enumerate}

Rappel: cette procédure est à effectuer uniquement la première fois que vous accédez à votre machine virtuelle.

\subsubsection*{Chaque semaine}

Les fois suivantes, récupérez les séries et les éventuels corrigés depuis Moodle et glissez-les dans le dossier de votre workspace:

\begin{enumerate}
\item Dans l'application \ui{Terminal} tapez exactement ceci, ligne par ligne:
\\
\begin{lstlisting}[language=Bash]
cd ~/Desktop/myfiles/eng209_2025
./setup.sh
\end{lstlisting}

\item Ouvrez directement VS Code, et faites \ui{Open Workspace…} si nécessaire pour retrouver l'ensemble de vos fichiers de travail
\end{enumerate}

Si vous souhaitez ne pas travailler sur cette infrastructure, c'est possible de tout faire en local sur votre propre machine. Mais c'est à vous de la configurer; nous vous aidons dans la mesure du possible mais ce n'est pas une configuration officiellement "prise en charge". Sachez aussi que l'examen de mi-semestre se déroulera obligatoirement sur les machine virtuelles avec les postes de l'EPFL afin que les conditions de passation soient identiques pour tout le monde.

\subsubsection*{En cas de problèmes}

\begin{enumerate}
\item L’environnement Python n’est pas disponible dans VS Code
\begin{enumerate} 
\item Vous êtes sur une machine virtuelle via la VDI: utilisez-vous bien l’image IC-CO-IN-INJ-202x-Fall ?
\item Vous êtes sur votre ordinateur personnel et utilisez votre propre version de VS Code: il est possible que certaines extensions ne soient pas compatibles avec votre version de VS Code. Contactez-nous ; nous vous aiderons dans la mesure du possible, mais cette configuration n’est pas officiellement "prise en charge".
\item Vous avez peut-être d'anciennes extensions VS Code même si vous êtes sur une machine virtuelle de l'EPFL (autre/ancien cours par exemple), notamment d'autres extensions liées à Python qui entrent en conflit avec les extensions officielle de Microsoft. Si c'est le cas, désinstallez toutes les extensions liées à Python manuellement depuis l'interface de VS Code et refaites tourner le setup depuis le terminal.
\item Vous accédez au dossier Desktop/myfiles depuis plusieurs machines en même temps (par exemple une fois via la VM, une autre fois via votre ordinateur): cela peut provoquer des conflits de lockfiles. N’utilisez qu’une seule machine à la fois pour accéder au dossier.
Si le problème persiste, ouvrez un terminal et entrez les commandes suivantes ligne par ligne, en faisant bien attention aux espaces :
\begin{lstlisting}[language=Bash]
cd ~/Desktop/myfiles/eng209_2025
rm -rf ./venv
./setup.sh
\end{lstlisting}
\end{enumerate}
\end{enumerate}

\end{document}
